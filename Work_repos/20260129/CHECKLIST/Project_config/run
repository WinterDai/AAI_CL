#!/usr/bin/env python3
"""
Run get_checklist.py via:  check_flow -checklist <StageName>
Also supports legacy: ./run <StageName>  or  ./run  (defaults to Initial)

Examples:

  ./run Initial
  ./run
"""
import sys
import subprocess
from pathlib import Path


DEFAULT_STAGE = "Initial"
DEFAULT_CHECKLIST_NAME = "DR3_SSCET_BE_Check_List_v0.1.xlsx"



def main():
    # Skip argv[0]
    stage = sys.argv[1] if len(sys.argv) > 1 else DEFAULT_STAGE
    Check_List = sys.argv[2] if len(sys.argv) > 2 else DEFAULT_CHECKLIST_NAME



    root = Path(__file__).resolve().parent
    script = root / "scripts" / "get_checklist.py"
    if not script.exists():
        print(f"ERROR: cannot find {script}")
        sys.exit(2)

    cmd = [sys.executable, str(script), stage, Check_List]
    print("Running:", " ".join(cmd))
    subprocess.check_call(cmd)

if __name__ == "__main__":
    main()